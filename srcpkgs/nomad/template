# Template file for 'nomad'
pkgname=nomad
version=1.10.4
revision=1
build_style=go
go_import_path="github.com/hashicorp/nomad"
go_build_tags="ui release"
_git_commit=62b195aaa535b2159d215eaf89e6f4a455d6f686
go_ldflags="-X ${go_import_path}/version.GitCommit=${_git_commit}"
depends="cni-plugins dmidecode"
short_desc="Cluster scheduler designed to easily integrate into existing workflows"
maintainer="Michael Aldridge <maldridge@voidlinux.org>"
license="BUSL-1.1"
homepage="https://www.nomadproject.io/"
distfiles="https://github.com/hashicorp/nomad/archive/v${version}.tar.gz"
checksum=825b05b0e4d7a4d7ebef97e9b4ef0e5d7f6adc9f9e46ffe0722b674a72f32d0b
make_dirs="/etc/nomad.d 0755 root root
 /var/lib/nomad 0755 root root"
repository=nonfree

post_install() {
	vlicense LICENSE
	vsv nomad
}
